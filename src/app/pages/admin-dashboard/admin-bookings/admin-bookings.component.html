<div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 space-y-8 bg-gray-50/30 min-h-screen">

  <p-toast position="bottom-right"></p-toast>

  <app-bookings-header (refresh)="refreshData()"></app-bookings-header>

  <section class="grid grid-cols-1 gap-6">
    <app-booking-stats-cards
      [currentLoansCount]="currentLoans().length"
      [overdueCount]="overdueBookings().length"
      [openRequestsCount]="openRequests().length"
      [confirmedNotPickedUpCount]="confirmedNotPickedUp().length"
      [futureBookingsCount]="futureBookings().length"
      [totalCount]="bookings().length"
      [selectedView]="selectedView()"
      (viewChange)="setView($event)">
    </app-booking-stats-cards>
  </section>

  <app-bookings-search-filter
    [searchQuery]="searchQuery()"
    [selectedView]="selectedView()"
    (searchQueryChange)="searchQuery.set($event)"
    (clearFilter)="setView('all')">
  </app-bookings-search-filter>

  <app-bookings-table-view
    [columns]="columns"
    [filteredBookings]="filteredBookings()"
    [isLoading]="isLoading()"
    [searchQuery]="searchQuery()"
    (rowSelect)="onBookingRowClick($event)">
  </app-bookings-table-view>
</div>
