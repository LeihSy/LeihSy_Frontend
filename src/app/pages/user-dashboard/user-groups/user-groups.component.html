<div class="p-8 max-w-7xl mx-auto">
  <p-toast position="bottom-right"></p-toast>
  <p-confirmDialog></p-confirmDialog>

  <div class="mb-6">
    <button
      class="inline-flex items-center text-primary hover:underline mb-4"
      (click)="goBack()">
      <i class="pi pi-arrow-left mr-2"></i>
      Zur√ºck zum Dashboard
    </button>

    <div class="flex justify-between items-start">
      <app-page-header
        title="Meine Gruppen"
        subtitle="Erstelle und verwalte deine eigenen Gruppen">
      </app-page-header>

      <div class="flex gap-2">
        <app-filled-button
          label="QR-Code scannen"
          icon="pi pi-qrcode"
          (buttonClick)="openScanner()">
        </app-filled-button>
        <app-filled-button
          label="Neue Gruppe"
          icon="pi pi-plus"
          (buttonClick)="goToNew()">
        </app-filled-button>
      </div>
    </div>
  </div>

  @if (error()) {
    <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4">
      <i class="pi pi-exclamation-triangle mr-2"></i>
      {{ error() }}
    </div>
  }

  <app-table
    [columns]="columns()"
    [data]="groups()"
    [loading]="loading()"
    [rows]="10"
    [paginator]="true"
    [showActions]="true"
    [showEditButton]="true"
    [showDeleteButton]="true"
    [rowClickable]="true"
    (edit)="onEdit($event)"
    (remove)="onRemove($event)"
    (rowSelect)="onRowSelect($event)">
  </app-table>

  <app-qr-scanner
    [(visible)]="scannerVisible"
    (scanned)="onScanned($event)">
  </app-qr-scanner>
</div>

